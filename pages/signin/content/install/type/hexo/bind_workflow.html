<div class="container">
    <div class="row">
        <div class="col-xl-4 col-lg-5 col-md-6 d-flex flex-column mx-auto">
            <div class="card card-plain mt-8">
                <div class="card-header pb-0 text-left bg-transparent">
                    <h3 class="font-weight-bolder text-info text-gradient">请选择仓库CI的WorkFlow名</h3>
                    <p class="mb-0">仓库
                        <!--GITHUB_REPONAME-->的Dispatch
                    </p>
                </div>
                <div class="card-body">
                    <form role="form">
                        <select id="workflow" class="form-control" placeholder="WorkFlow名" aria-label="Workflow"
                            aria-describedby="workflow-addon" list="workflow">
                            <datalist id="workflow">
                                <!--GITHUB_WORKFLOW_LIST-->
                            </datalist>
                        </select>
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="onlydispatch" checked="">
                            <label class="form-check-label" for="rememberMe">移除其余事件,避免造成重复激活Action</label>
                        </div>
                        <p class="mb-0" id="info"></p>
                        <div class="text-center">
                            <button type="button" onclick="login()"
                                class="btn bg-gradient-info w-100 mt-4 mb-0">绑定WorkFlow</button>
                        </div>


                    </form>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="oblique position-absolute top-0 h-100 d-md-block d-none me-n8">
                <div class="oblique-image bg-cover position-absolute fixed-top ms-auto h-100 z-index-0 ms-n6"
                    style="background-image:url('https://SOURCE_CDN/assets/img/curved-images/curved6.jpg')"></div>
            </div>
        </div>
    </div>
</div>
<script>

    const url = new URL(window.location.href)
    if (url.searchParams.get('error') == '1') {
        document.querySelector('#info').innerHTML = '<span class="text-danger">无法绑定WorkFlow</span>'

    }
    window.login = () => {
        url.searchParams.set('step', 'dispatch')
        url.searchParams.set('workflow', document.querySelector('#workflow').value)
        url.searchParams.set('onlydispatch', document.querySelector('#onlydispatch').checked)
        WGoto(url.href)
    }
</script>