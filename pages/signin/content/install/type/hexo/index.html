<div class="container">
  <div class="row">
    <div class="col-xl-4 col-lg-5 col-md-6 d-flex flex-column mx-auto">
      <div class="card card-plain mt-8">
        <div class="card-header pb-0 text-left bg-transparent">
          <h3 class="font-weight-bolder text-info text-gradient">登陆Github</h3>
          <p class="mb-0">以Token形式登陆Hexo仓库拥有者的账号</p>
        </div>
        <div class="card-body">
          <form role="form">
            <label>密钥</label>
            <div class="mb-3">
              <input id="token" type="password" class="form-control" placeholder="ghp-" aria-label="Token"
                aria-describedby="token-addon">
              </datalist>
            </div>
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" id="org" checked="">
              <label class="form-check-label">同时获取组织仓库</label>
            </div>
            <p class="mb-0" id="info"></p>
            <div class="text-center">
              <button type="button" onclick="login()" class="btn bg-gradient-info w-100 mt-4 mb-0">确定</button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="oblique position-absolute top-0 h-100 d-md-block d-none me-n8">
        <div class="oblique-image bg-cover position-absolute fixed-top ms-auto h-100 z-index-0 ms-n6"
          style="background-image:url('https://SOURCE_CDN/assets/img/curved-images/curved6.jpg')"></div>
      </div>
    </div>
  </div>
</div>
<script>

  const url = new URL(window.location.href)
  if (url.searchParams.get('error') == '1') {
    document.querySelector('#info').innerHTML = '<span class="text-danger">密钥错误</span>'

  }
  window.login = () => {
    url.searchParams.set('token', document.getElementById('token').value)
    url.searchParams.set('step', 'auth_user')
    url.searchParams.set('org', document.getElementById('org').checked ? 1 : 0)
    WGoto(url.href)
  }
</script>